---
import { t } from '../i18n/translations';
import LinkedInIcon from '../icons/linkedin.astro';
import SocialPill from '../icons/socialpill.astro';
import GitHubIcon from '../icons/github.astro';
import Mail from '../icons/mail.astro';

// Default to Spanish, will be updated on client side
const lang: 'es' | 'en' | 'de' = 'es';
---

<section class="py-8 px-2 sm:px-4 mx-auto max-w-3xl sm:py-16 lg:px-6">
  <div class="max-w-2xl mb-4 sm:mb-6 mx-auto px-2">
    <p class="text-gray-500 text-base sm:text-lg md:text-xl dark:text-gray-400 text-center text-pretty" data-i18n="contactameDesc">{t('contactameDesc', lang)}</p>
  </div>
  
  <div class="bg-neutral-800/50 rounded-lg p-4 sm:p-6 md:p-8 border border-neutral-700">
    <div class="space-y-6">
      <!-- InformaciÃ³n personal - puedes editar esto -->
      <div class="text-center mb-6 sm:mb-8">
        <h3 class="text-xl sm:text-2xl font-bold text-white mb-3 sm:mb-4" data-i18n="sobreMi">{t('sobreMi', lang)}</h3>
        <div class="text-gray-300 text-sm sm:text-base space-y-2 sm:space-y-3 text-left">
          <p data-i18n="sobreMiTexto1">
            {t('sobreMiTexto1', lang)}
          </p>
          <p data-i18n="sobreMiTexto2">
            {t('sobreMiTexto2', lang)}
          </p>
          <p data-i18n="sobreMiTexto3">
            {t('sobreMiTexto3', lang)}
          </p>
        </div>
      </div>
      
      <!-- Redes sociales -->
      <div class="border-t border-neutral-700 pt-6 sm:pt-8">
        <h3 class="text-lg sm:text-xl font-bold text-white mb-3 sm:mb-4 text-center" data-i18n="redesSociales">{t('redesSociales', lang)}</h3>
        <div class="flex flex-wrap gap-2 sm:gap-4 justify-center">
          <SocialPill href="https://www.linkedin.com/in/german-heredia-12504a376/?trk=opento_sprofile_details">
            <LinkedInIcon width="24" height="24" />
            <span data-i18n="linkedin">LinkedIn</span>
          </SocialPill>
          <SocialPill href="https://github.com/germanheredia121-tech">
            <GitHubIcon width="24" height="24" />
            <span data-i18n="github">GitHub</span>
          </SocialPill>
          <SocialPill href="mailto:germanheredia121@gmail.com">
            <Mail width="24" height="24" />
            <span data-i18n="email">germanheredia121@gmail.com</span>
          </SocialPill>
        </div>
      </div>
      
      <!-- InformaciÃ³n de contacto adicional -->
      <div class="border-t border-neutral-700 pt-6 sm:pt-8">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6">
          <div class="text-center">
            <div class="text-yellow-400 text-2xl sm:text-3xl mb-2">ðŸ“§</div>
            <h4 class="text-base sm:text-lg font-semibold text-white mb-2" data-i18n="emailTitulo">{t('emailTitulo', lang)}</h4>
            <a href="mailto:germanheredia121@gmail.com" class="text-gray-300 hover:text-yellow-400 transition-colors duration-300 text-sm sm:text-base break-all">
              germanheredia121@gmail.com
            </a>
          </div>
          <div class="text-center">
            <div class="text-yellow-400 text-2xl sm:text-3xl mb-2">ðŸ’¼</div>
            <h4 class="text-base sm:text-lg font-semibold text-white mb-2" data-i18n="disponibilidad">{t('disponibilidad', lang)}</h4>
            <p class="text-gray-300" data-i18n="disponibilidadTexto">{t('disponibilidadTexto', lang)}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  function updateContactMeTranslations() {
    const lang = localStorage.getItem('language') || 'es';
    const translations = window.__TRANSLATIONS__ || {};
    const langTranslations = translations[lang] || translations['es'] || {};
    
    document.querySelectorAll('[data-i18n]').forEach((element) => {
      const key = element.getAttribute('data-i18n');
      if (key && langTranslations[key]) {
        element.textContent = langTranslations[key];
      }
    });
  }
  
  window.addEventListener('languagechange', updateContactMeTranslations);
</script>

